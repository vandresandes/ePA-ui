<form autocomplete="off" #nucleoForm="ngForm" class="form-horizontal">
  <div class="box box-primary">
    <div class="box-header with-border">
      <h3 class="box-title">
        Filtros de Pesquisa
      </h3>
    </div>
    <div class="box-body">
      <div>
        <div class="form-group">
          <div class="col-sm-12 col-md-6">
            <label for="nome">{{titulo}}</label>
            <div>
              <p-autoComplete id="nome" [(ngModel)]="entity.nome" [suggestions]="listaNomeNucleo" [minLength]="3" emptyMessage={{msgNaoEncontrado}} name="nucleo"
                (completeMethod)="filtrarNomes($event)" [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}"></p-autoComplete>
            </div>
          </div>
          <div class="col-sm-12 col-md-6">
            <label>Matéria</label>
            <div>
              <p-autoComplete [(ngModel)]="entity.nomeMateria" [suggestions]="listaMateria" [minLength]="3" emptyMessage={{msgNaoEncontrado}} name="materiaNucleo"
                (completeMethod)="buscarMateriaPorNome($event)" [style]="{'width':'100%'}" [inputStyle]="{'width':'100%'}"></p-autoComplete>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="box-footer clearfix">
      <div class="pull-right">
        <p-button icon="fa fa-search" iconPos="left" label="Pesquisar" pTooltip="Pesquisar" tooltipPosition="top" (click)="pesquisar()"></p-button>
        <p-button icon="fa fa-eraser" iconPos="left" label="Limpar" pTooltip="Limpar" tooltipPosition="top" (click)="limpar(nucleoForm)"></p-button>
        <p-button icon="fa fa-undo" iconPos="left" label="Voltar" pTooltip="Voltar" tooltipPosition="top" (click)="voltar()" type="button"></p-button>
      </div>
    </div>
  </div>
  <div class="box box-primary">
    <div class="box-header with-border">
      <h3 class="box-title">
        Lista de Núcleos
      </h3>
    </div>
    <div class="box-body">
      <p-table [value]="listaPesquisa" [responsive]="true" [autoLayout]="true">
        <ng-template pTemplate="header">
          <tr>
            <th>Núcleo</th>
            <th>Matéria</th>
            <th style="width: 150px;">Ações</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-nucleo>
          <tr>
            <td>{{nucleo.nome}}</td>
            <td>{{nucleo.materia.nome}}</td>
            <td>
              <p-button icon="fa fa-search" iconPos="left" pTooltip="Visualizar" tooltipPosition="top" (click)="visualizar(nucleo.id)" type="button"></p-button>
              <p-button icon="fa fa-pencil" iconPos="left" pTooltip="Editar" tooltipPosition="top" (click)="editar(nucleo.id)" type="button"></p-button>
              <p-button icon="fa fa-trash" iconPos="left" pTooltip="Excluir" tooltipPosition="top" (click)="excluir(nucleo.id)"></p-button>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td [attr.colspan]="2">
              {{msgNenhumRegistroEncontrado}}
            </td>
          </tr>
        </ng-template>
      </p-table>
      <p-paginator [rows]="paginacao.rows" [totalRecords]="paginacao.totalRecords" [rowsPerPageOptions]="paginacao.rowsPerPageOptions"
        (onPageChange)="paginate($event)"></p-paginator>
    </div>
  </div>
  <div class="p-grid" *ngIf="false">
    <div class="p-col">
      <div class="pull-right">
        <p-button icon="fa fa-file-o" iconPos="left" label="Cadastrar {{titulo}}" pTooltip="Cadastrar {{titulo}}" tooltipPosition="top" (click)="novo()" type="button"></p-button>
      </div>
    </div>
  </div>
</form>
